(()=>{var e={};e.id=653,e.ids=[653,888,660],e.modules={2978:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.r(t),a.d(t,{config:()=>b,default:()=>p,getServerSideProps:()=>x,getStaticPaths:()=>m,getStaticProps:()=>h,reportWebVitals:()=>j,routeModule:()=>w,unstable_getServerProps:()=>N,unstable_getServerSideProps:()=>v,unstable_getStaticParams:()=>y,unstable_getStaticPaths:()=>f,unstable_getStaticProps:()=>g});var l=a(7093),s=a(5244),n=a(1323),o=a(2899),i=a.n(o),c=a(8910),u=a(2280),d=e([c,u]);[c,u]=d.then?(await d)():d;let p=(0,n.l)(u,"default"),h=(0,n.l)(u,"getStaticProps"),m=(0,n.l)(u,"getStaticPaths"),x=(0,n.l)(u,"getServerSideProps"),b=(0,n.l)(u,"config"),j=(0,n.l)(u,"reportWebVitals"),g=(0,n.l)(u,"unstable_getStaticProps"),f=(0,n.l)(u,"unstable_getStaticPaths"),y=(0,n.l)(u,"unstable_getStaticParams"),N=(0,n.l)(u,"unstable_getServerProps"),v=(0,n.l)(u,"unstable_getServerSideProps"),w=new l.PagesRouteModule({definition:{kind:s.x.PAGES,page:"/plantjournal/createplant",pathname:"/plantjournal/createplant",bundlePath:"",filename:""},components:{App:c.default,Document:i()},userland:u});r()}catch(e){r(e)}})},8910:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.r(t),a.d(t,{default:()=>c});var l=a(997);a(5833);var s=a(5198),n=a(5142),o=a.n(n),i=e([s]);s=(i.then?(await i)():i)[0],o().config();let c=(0,s.default)(({Component:e,pageProps:t})=>l.jsx("div",{children:l.jsx(e,{classame:"App",...t})}));r()}catch(e){r(e)}})},8598:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.r(t),a.d(t,{default:()=>p});var l=a(997),s=a(1664),n=a.n(s),o=a(1163),i=a(6689),c=a(4874),u=a(5198),d=e([c,u]);[c,u]=d.then?(await d)():d;let p=(0,u.default)(e=>{let t=(0,o.useRouter)(),[a,r]=(0,i.useState)(!1),[s]=(0,c.useCookies)(["token","user"]),[u,d]=(0,i.useState)("");(0,i.useEffect)(()=>{let e=s.user;e&&d(e)},[]);let p=async()=>{try{(await fetch("http://localhost:4000/auth/logout",{method:"get",credentials:"include",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s.token}`}})).ok&&((0,c.removeCookie)("token"),(0,c.removeCookie)("user"),t.replace("/auth"))}catch(e){console.log(e),console.log("Network error")}},h=()=>{r(!1)};return l.jsx("div",{children:(0,l.jsxs)("nav",{className:"flex justify-between items-center px-4 bg-green-900 py-2 w-full",children:[l.jsx("h1",{className:"text-white font-semibold text-xl",children:e.pageName}),(0,l.jsxs)("div",{className:" flex items-center ",children:[(0,l.jsxs)("h1",{className:"text-white text-base mr-4",children:["Welcome ",u]}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsxs)("button",{onClick:()=>{r(!a)},className:"text-white font-semibold px-4",children:[l.jsx("span",{className:"ml-1 text-2xl",children:"â˜°"})," "]}),a&&(0,l.jsxs)("ul",{className:"absolute right-0 mt-2 w-48 bg-white shadow-lg rounded-md",children:[l.jsx("li",{children:l.jsx(n(),{href:"/dashboard",className:"block px-4 py-2 text-gray-800 hover:bg-gray-200",onClick:h,children:"Dashboard"})}),l.jsx("li",{children:l.jsx(n(),{href:"/plantjournal/garden",className:"block px-4 py-2 text-gray-800 hover:bg-gray-200",onClick:h,children:"Plant Journal"})}),l.jsx("li",{children:l.jsx(n(),{href:"/wellnessjournal/mood",className:"block px-4 py-2 text-gray-800 hover:bg-gray-200",onClick:h,children:"Wellness Journal"})}),l.jsx("li",{children:l.jsx(n(),{href:"/social",className:"block px-4 py-2 text-gray-800 hover:bg-gray-200",onClick:h,children:"Social"})}),l.jsx("li",{children:l.jsx(n(),{href:"/profile",className:"block px-4 py-2 text-gray-800 hover:bg-gray-200",onClick:h,children:"View Profile"})}),l.jsx("li",{children:l.jsx("input",{type:"button",onClick:()=>{p(),h()},className:"w-full text-left px-4 py-2 text-gray-800 hover:bg-gray-200",value:"Logout"})})]})]})]})]})})});r()}catch(e){r(e)}})},5198:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.r(t),a.d(t,{default:()=>c});var l=a(997),s=a(1163),n=a(6689),o=a(4874),i=e([o]);o=(i.then?(await i)():i)[0];let c=e=>{let t=t=>{let a=(0,s.useRouter)(),[r]=(0,o.useCookies)(["token"]);return(0,n.useEffect)(()=>{(async()=>{let e=r.token;console.log("Frontend Token:",e),e||"/auth"===a.pathname||(console.log("Redirecting to login page..."),a.push("/auth"))})()},[r,a]),l.jsx(e,{...t})};return t.displayName=`withAuth(${e.displayName||e.name||"Component"})`,t};r()}catch(e){r(e)}})},2280:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.r(t),a.d(t,{default:()=>d});var l=a(997),s=a(6689),n=a(1163),o=a(4874),i=a(8598),c=a(5198),u=e([o,i,c]);[o,i,c]=u.then?(await u)():u;let d=(0,c.default)(()=>{let e=(0,n.useRouter)(),[t,a]=(0,s.useState)({plantName:"",plantSpecies:"",watered:"",plantDate:"",plantImage:"",temperature:"",rain:"",health:"",fertilizer:"",notes:""}),[r,c]=(0,s.useState)(""),[u]=(0,o.useCookies)(["token"]),[d,p]=(0,s.useState)(null),h=(0,n.useRouter)(),m=async()=>{try{let e=new FormData;e.append("plantImage",d),e.append("plantName",t.plantName),e.append("plantSpecies",t.plantSpecies),e.append("watered",t.watered),e.append("plantDate",t.plantDate),e.append("temperature",t.temperature),e.append("rain",t.rain),e.append("health",t.health),e.append("fertilizer",t.fertilizer),e.append("notes",t.notes);let a=await fetch("http://localhost:4000/garden/create",{method:"POST",credentials:"include",headers:{Authorization:`Bearer ${u.token}`},body:e});await a.json(),a.ok&&h.replace("/plantjournal/garden")}catch(e){c("Network error")}},x=e=>{a({...t,[e.target.name]:e.target.value})};return(0,l.jsxs)("div",{className:"min-h-screen flex-col items-center justify-center bg-gray-100 mx-auto",children:[l.jsx(i.default,{pageName:"Plant Journal"}),(0,l.jsxs)("section",{className:"mt-8",children:[l.jsx("button",{onClick:()=>e.back(),className:"text-emerald-700 hover:text-emerald-900 font-semibold focus:outline-none",children:"Go Back"}),l.jsx("h2",{className:"text-xl font-semibold mt-4 text-center",children:"Add a New Plant"}),r&&l.jsx("p",{className:"text-red-500",children:r}),(0,l.jsxs)("form",{encType:"multipart/formdata",onSubmit:e=>{e.preventDefault(),c(""),m()},className:"mt-4 space-y-4 mx-auto max-w-md",children:[l.jsx("label",{htmlFor:"plantName",className:"block",children:"Plant Name: "}),l.jsx("input",{type:"text",name:"plantName",placeholder:"Enter Plant Name",onChange:x,value:t.plantName,className:"w-full border rounded px-3 py-2 mt-1 focus:outline-none focus:border-green-600"}),l.jsx("br",{}),l.jsx("label",{htmlFor:"plantSpecies",className:"block",children:"Plant Species: "}),l.jsx("input",{type:"text",name:"plantSpecies",placeholder:"Enter Plant Species",onChange:x,value:t.plantSpecies,className:"w-full border rounded px-3 py-2 mt-1 focus:outline-none focus:border-green-600"}),l.jsx("br",{}),l.jsx("label",{htmlFor:"plantDate",className:"block",children:"Date Planted: "}),l.jsx("input",{type:"date",name:"plantDate",onChange:x,value:t.plantDate,className:"w-full border rounded px-3 py-2 mt-1 focus:outline-none focus:border-green-600"}),l.jsx("br",{}),l.jsx("label",{htmlFor:"watered",className:"block",children:"Was it watered today:"}),(0,l.jsxs)("div",{children:[l.jsx("input",{type:"radio",id:"watered_yes",name:"watered",value:"Yes",checked:"Yes"===t.watered,onChange:x,className:"mr-2"}),l.jsx("label",{htmlFor:"watered_yes",className:"mr-4",children:"Yes"}),l.jsx("input",{type:"radio",id:"watered_no",name:"watered",value:"No",checked:"No"===t.watered,onChange:x,className:"mr-2"}),l.jsx("label",{htmlFor:"watered_no",children:"No"})]}),l.jsx("br",{}),l.jsx("label",{htmlFor:"plantImage",className:"block",children:"Upload a picture of your plant: "}),l.jsx("input",{type:"file",name:"plantImage",onChange:e=>{p(e.target.files[0])},className:"w-full border rounded px-3 py-2 mt-1 focus:outline-none focus:border-green-600"}),l.jsx("br",{}),l.jsx("label",{htmlFor:"temperature",className:"block",children:"Todays Temperature: "}),l.jsx("input",{type:"number",name:"temperature",placeholder:"Todays Temperature",onChange:x,value:t.temperature,className:"w-full border rounded px-3 py-2 mt-1 focus:outline-none focus:border-green-600"}),l.jsx("br",{}),l.jsx("label",{htmlFor:"rain",children:"Did it rain Today? "}),(0,l.jsxs)("div",{children:[l.jsx("input",{type:"radio",id:"rain_yes",name:"rain",value:"Yes",checked:"Yes"===t.rain,onChange:x,className:"mr-2"}),l.jsx("label",{htmlFor:"rain_yes",className:"mr-4",children:"Yes"}),l.jsx("input",{type:"radio",id:"rain_no",name:"rain",value:"No",checked:"No"===t.rain,onChange:x,className:"mr-2"}),l.jsx("label",{htmlFor:"rain_no",children:"No"})]}),l.jsx("br",{}),l.jsx("label",{htmlFor:"health",className:"block",children:"Plant health status: "}),(0,l.jsxs)("select",{name:"health",value:t.health,onChange:x,className:"w-full border rounded px-3 py-2 mt-1 focus:outline-none focus:border-green-600",children:[l.jsx("option",{value:"",children:"Select plant health"}),l.jsx("option",{value:"Healthy",children:"Healthy"}),l.jsx("option",{value:"Fair",children:"Fair"}),l.jsx("option",{value:"Poor",children:"Poor"}),l.jsx("option",{value:"Critical",children:"Critical"})]}),l.jsx("br",{}),l.jsx("label",{htmlFor:"fertilizer",className:"block",children:"What fertilizer did you use: "}),(0,l.jsxs)("select",{name:"fertilizer",value:t.fertilizer,onChange:x,className:"w-full border rounded px-3 py-2 mt-1 focus:outline-none focus:border-green-600",children:[l.jsx("option",{value:"",children:"Select fertilizer type"}),l.jsx("option",{value:"None",children:"None"}),l.jsx("option",{value:"Organic",children:"Organic"}),l.jsx("option",{value:"Inorganic",children:"Inorganic"}),l.jsx("option",{value:"Liquid",children:"Liquid"}),l.jsx("option",{value:"Granular",children:"Granular"}),l.jsx("option",{value:"Slow-release",children:"Slow-release"}),l.jsx("option",{value:"Other",children:"Other"})]}),l.jsx("br",{}),l.jsx("label",{htmlFor:"notes",className:"block",children:"Any other notes: "}),l.jsx("textarea",{name:"notes",placeholder:"Additional notes about plant",value:t.notes,onChange:x,className:"w-full border rounded px-3 py-2 mt-1 focus:outline-none focus:border-green-600"}),l.jsx("br",{}),l.jsx("br",{}),l.jsx("input",{type:"submit",value:"Submit",className:"bg-lime-500 text-white px-4 py-2 rounded hover:bg-lime-600 cursor-pointer mx-auto block"}),l.jsx("br",{})]})]})]})});r()}catch(e){r(e)}})},5833:()=>{},5142:e=>{"use strict";e.exports=require("dotenv")},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{"use strict";e.exports=require("react")},6405:e=>{"use strict";e.exports=require("react-dom")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},4874:e=>{"use strict";e.exports=import("react-cookie")},7147:e=>{"use strict";e.exports=require("fs")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},9796:e=>{"use strict";e.exports=require("zlib")}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[567,163,899,559],()=>a(2978));module.exports=r})();