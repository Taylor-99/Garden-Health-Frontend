(()=>{var e={};e.id=288,e.ids=[288,888,660],e.modules={3201:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{config:()=>m,default:()=>h,getServerSideProps:()=>g,getStaticPaths:()=>p,getStaticProps:()=>x,reportWebVitals:()=>j,routeModule:()=>N,unstable_getServerProps:()=>v,unstable_getServerSideProps:()=>w,unstable_getStaticParams:()=>y,unstable_getStaticPaths:()=>f,unstable_getStaticProps:()=>b});var s=r(7093),l=r(5244),n=r(1323),i=r(2899),o=r.n(i),c=r(8910),d=r(7907),u=e([c,d]);[c,d]=u.then?(await u)():u;let h=(0,n.l)(d,"default"),x=(0,n.l)(d,"getStaticProps"),p=(0,n.l)(d,"getStaticPaths"),g=(0,n.l)(d,"getServerSideProps"),m=(0,n.l)(d,"config"),j=(0,n.l)(d,"reportWebVitals"),b=(0,n.l)(d,"unstable_getStaticProps"),f=(0,n.l)(d,"unstable_getStaticPaths"),y=(0,n.l)(d,"unstable_getStaticParams"),v=(0,n.l)(d,"unstable_getServerProps"),w=(0,n.l)(d,"unstable_getServerSideProps"),N=new s.PagesRouteModule({definition:{kind:l.x.PAGES,page:"/plantjournal/garden",pathname:"/plantjournal/garden",bundlePath:"",filename:""},components:{App:c.default,Document:o()},userland:d});a()}catch(e){a(e)}})},8910:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{default:()=>c});var s=r(997);r(5833);var l=r(5198),n=r(5142),i=r.n(n),o=e([l]);l=(o.then?(await o)():o)[0],i().config();let c=(0,l.default)(({Component:e,pageProps:t})=>s.jsx("div",{children:s.jsx(e,{classame:"App",...t})}));a()}catch(e){a(e)}})},8598:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{default:()=>h});var s=r(997),l=r(1664),n=r.n(l),i=r(1163),o=r(6689),c=r(4874),d=r(5198),u=e([c,d]);[c,d]=u.then?(await u)():u;let h=(0,d.default)(e=>{let t=(0,i.useRouter)(),[r,a]=(0,o.useState)(!1),[l]=(0,c.useCookies)(["token","user"]),[d,u]=(0,o.useState)("");(0,o.useEffect)(()=>{let e=l.user;e&&u(e)},[]);let h=async()=>{try{(await fetch("http://localhost:4000/auth/logout",{method:"get",credentials:"include",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l.token}`}})).ok&&((0,c.removeCookie)("token"),(0,c.removeCookie)("user"),t.replace("/auth"))}catch(e){console.log(e),console.log("Network error")}},x=()=>{a(!1)};return s.jsx("div",{children:(0,s.jsxs)("nav",{className:"flex justify-between items-center px-4 bg-green-900 py-2 w-full",children:[s.jsx("h1",{className:"text-white font-semibold text-xl",children:e.pageName}),(0,s.jsxs)("div",{className:" flex items-center ",children:[(0,s.jsxs)("h1",{className:"text-white text-base mr-4",children:["Welcome ",d]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("button",{onClick:()=>{a(!r)},className:"text-white font-semibold px-4",children:[s.jsx("span",{className:"ml-1 text-2xl",children:"â˜°"})," "]}),r&&(0,s.jsxs)("ul",{className:"absolute right-0 mt-2 w-48 bg-white shadow-lg rounded-md",children:[s.jsx("li",{children:s.jsx(n(),{href:"/dashboard",className:"block px-4 py-2 text-gray-800 hover:bg-gray-200",onClick:x,children:"Dashboard"})}),s.jsx("li",{children:s.jsx(n(),{href:"/plantjournal/garden",className:"block px-4 py-2 text-gray-800 hover:bg-gray-200",onClick:x,children:"Plant Journal"})}),s.jsx("li",{children:s.jsx(n(),{href:"/wellnessjournal/mood",className:"block px-4 py-2 text-gray-800 hover:bg-gray-200",onClick:x,children:"Wellness Journal"})}),s.jsx("li",{children:s.jsx(n(),{href:"/social",className:"block px-4 py-2 text-gray-800 hover:bg-gray-200",onClick:x,children:"Social"})}),s.jsx("li",{children:s.jsx(n(),{href:"/profile",className:"block px-4 py-2 text-gray-800 hover:bg-gray-200",onClick:x,children:"View Profile"})}),s.jsx("li",{children:s.jsx("input",{type:"button",onClick:()=>{h(),x()},className:"w-full text-left px-4 py-2 text-gray-800 hover:bg-gray-200",value:"Logout"})})]})]})]})]})})});a()}catch(e){a(e)}})},5198:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{default:()=>c});var s=r(997),l=r(1163),n=r(6689),i=r(4874),o=e([i]);i=(o.then?(await o)():o)[0];let c=e=>{let t=t=>{let r=(0,l.useRouter)(),[a]=(0,i.useCookies)(["token"]);return(0,n.useEffect)(()=>{(async()=>{let e=a.token;console.log("Frontend Token:",e),e||"/auth"===r.pathname||(console.log("Redirecting to login page..."),r.push("/auth"))})()},[a,r]),s.jsx(e,{...t})};return t.displayName=`withAuth(${e.displayName||e.name||"Component"})`,t};a()}catch(e){a(e)}})},9415:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{default:()=>d});var s=r(997),l=r(1664),n=r.n(l),i=r(1163),o=r(5198),c=e([o]);o=(c.then?(await c)():c)[0];let d=(0,o.default)(()=>{let e=(0,i.useRouter)();return s.jsx("nav",{children:(0,s.jsxs)("ul",{className:"flex justify-center",children:[s.jsx("li",{children:s.jsx(n(),{href:"/plantjournal/garden",className:`px-4 py-2 rounded ${"/plantjournal/garden"===e.pathname?"bg-emerald-500 text-white":"bg-gray-200 text-gray-500 hover:bg-blue-500 hover:text-white"}`,children:"Your garden"})}),s.jsx("li",{children:s.jsx(n(),{href:"/plantjournal/library",className:`px-4 py-2 rounded ${"/plantjournal/library"===e.pathname?"bg-emerald-500 text-white":"bg-gray-200 text-gray-500 hover:bg-blue-500 hover:text-white"}`,children:"Plant Library"})})]})})});a()}catch(e){a(e)}})},7907:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{default:()=>x});var s=r(997),l=r(8598),n=r(9415),i=r(6689),o=r(4874),c=r(1664),d=r.n(c),u=r(5198),h=e([l,n,o,u]);[l,n,o,u]=h.then?(await h)():h;let x=(0,u.default)(()=>{let[e,t]=(0,i.useState)(!0),[r]=(0,o.useCookies)(["token"]),[a,c]=(0,i.useState)([]);return((0,i.useEffect)(()=>{(async()=>{try{let e=await fetch("http://localhost:4000/garden",{credentials:"include",headers:{Authorization:`Bearer ${r.token}`}}),a=await e.json();c(a),t(!1)}catch(e){console.error("Error:",e.message)}})()},[r.token]),e)?s.jsx("p",{children:"Loading..."}):a?(console.log(a),(0,s.jsxs)("div",{className:"min-h-screen flex-col items-center justify-center bg-gray-100",children:[s.jsx(l.default,{pageName:"Plant Journal"}),s.jsx("br",{}),s.jsx(n.default,{}),s.jsx("br",{}),s.jsx("h1",{className:"text-2xl font-bold mb-4 text-center",children:" Your Garden "}),(0,s.jsxs)("ul",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[a&&a.map((e,t)=>(0,s.jsxs)("li",{className:"bg-white p-4 rounded-lg shadow-md w-45",children:[(0,s.jsxs)(d(),{href:`/plantjournal/details/${e[0]._id}`,children:[s.jsx("img",{src:e[1].plantImage,alt:e[0].plantName,className:"w-full h-32 object-cover rounded-md mb-2"}),s.jsx("h2",{className:"text-lg font-semibold",children:e[0].plantName}),(0,s.jsxs)("p",{className:"text-gray-600",children:["Last update: ",function(e){let t=new Date(e),r=t.getFullYear(),a=t.getMonth()+1,s=t.getDate();return`${a}/${s}/${r}`}(e[0].updatedAt)]})]}),s.jsx("br",{})]},t)),s.jsx(d(),{href:"/plantjournal/createplant",className:"text-lime-600 hover:text-lime-900 font-semibold",children:s.jsx("li",{className:"bg-white hover:bg-neutral-200 p-4 rounded-lg shadow-md flex justify-center items-center w-45",children:"Create A plant"})})]})]})):s.jsx("p",{children:"No plants to show"})});a()}catch(e){a(e)}})},5833:()=>{},5142:e=>{"use strict";e.exports=require("dotenv")},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{"use strict";e.exports=require("react")},6405:e=>{"use strict";e.exports=require("react-dom")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},4874:e=>{"use strict";e.exports=import("react-cookie")},7147:e=>{"use strict";e.exports=require("fs")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},9796:e=>{"use strict";e.exports=require("zlib")}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[567,163,899,559],()=>r(3201));module.exports=a})();