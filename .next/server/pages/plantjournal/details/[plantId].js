(()=>{var e={};e.id=112,e.ids=[112,888,660],e.modules={8338:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.r(t),a.d(t,{config:()=>g,default:()=>h,getServerSideProps:()=>p,getStaticPaths:()=>m,getStaticProps:()=>x,reportWebVitals:()=>j,routeModule:()=>v,unstable_getServerProps:()=>w,unstable_getServerSideProps:()=>N,unstable_getStaticParams:()=>y,unstable_getStaticPaths:()=>f,unstable_getStaticProps:()=>b});var r=a(7093),l=a(5244),n=a(1323),i=a(2899),o=a.n(i),c=a(8910),d=a(2019),u=e([c,d]);[c,d]=u.then?(await u)():u;let h=(0,n.l)(d,"default"),x=(0,n.l)(d,"getStaticProps"),m=(0,n.l)(d,"getStaticPaths"),p=(0,n.l)(d,"getServerSideProps"),g=(0,n.l)(d,"config"),j=(0,n.l)(d,"reportWebVitals"),b=(0,n.l)(d,"unstable_getStaticProps"),f=(0,n.l)(d,"unstable_getStaticPaths"),y=(0,n.l)(d,"unstable_getStaticParams"),w=(0,n.l)(d,"unstable_getServerProps"),N=(0,n.l)(d,"unstable_getServerSideProps"),v=new r.PagesRouteModule({definition:{kind:l.x.PAGES,page:"/plantjournal/details/[plantId]",pathname:"/plantjournal/details/[plantId]",bundlePath:"",filename:""},components:{App:c.default,Document:o()},userland:d});s()}catch(e){s(e)}})},8910:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.r(t),a.d(t,{default:()=>c});var r=a(997);a(5833);var l=a(5198),n=a(5142),i=a.n(n),o=e([l]);l=(o.then?(await o)():o)[0],i().config();let c=(0,l.default)(({Component:e,pageProps:t})=>r.jsx("div",{children:r.jsx(e,{classame:"App",...t})}));s()}catch(e){s(e)}})},8598:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.r(t),a.d(t,{default:()=>h});var r=a(997),l=a(1664),n=a.n(l),i=a(1163),o=a(6689),c=a(4874),d=a(5198),u=e([c,d]);[c,d]=u.then?(await u)():u;let h=(0,d.default)(e=>{let t=(0,i.useRouter)(),[a,s]=(0,o.useState)(!1),[l]=(0,c.useCookies)(["token","user"]),[d,u]=(0,o.useState)("");(0,o.useEffect)(()=>{let e=l.user;e&&u(e)},[]);let h=async()=>{try{(await fetch("http://localhost:4000/auth/logout",{method:"get",credentials:"include",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l.token}`}})).ok&&((0,c.removeCookie)("token"),(0,c.removeCookie)("user"),t.replace("/auth"))}catch(e){console.log(e),console.log("Network error")}},x=()=>{s(!1)};return r.jsx("div",{children:(0,r.jsxs)("nav",{className:"flex justify-between items-center px-4 bg-green-900 py-2 w-full",children:[r.jsx("h1",{className:"text-white font-semibold text-xl",children:e.pageName}),(0,r.jsxs)("div",{className:" flex items-center ",children:[(0,r.jsxs)("h1",{className:"text-white text-base mr-4",children:["Welcome ",d]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("button",{onClick:()=>{s(!a)},className:"text-white font-semibold px-4",children:[r.jsx("span",{className:"ml-1 text-2xl",children:"â˜°"})," "]}),a&&(0,r.jsxs)("ul",{className:"absolute right-0 mt-2 w-48 bg-white shadow-lg rounded-md",children:[r.jsx("li",{children:r.jsx(n(),{href:"/dashboard",className:"block px-4 py-2 text-gray-800 hover:bg-gray-200",onClick:x,children:"Dashboard"})}),r.jsx("li",{children:r.jsx(n(),{href:"/plantjournal/garden",className:"block px-4 py-2 text-gray-800 hover:bg-gray-200",onClick:x,children:"Plant Journal"})}),r.jsx("li",{children:r.jsx(n(),{href:"/wellnessjournal/mood",className:"block px-4 py-2 text-gray-800 hover:bg-gray-200",onClick:x,children:"Wellness Journal"})}),r.jsx("li",{children:r.jsx(n(),{href:"/social",className:"block px-4 py-2 text-gray-800 hover:bg-gray-200",onClick:x,children:"Social"})}),r.jsx("li",{children:r.jsx(n(),{href:"/profile",className:"block px-4 py-2 text-gray-800 hover:bg-gray-200",onClick:x,children:"View Profile"})}),r.jsx("li",{children:r.jsx("input",{type:"button",onClick:()=>{h(),x()},className:"w-full text-left px-4 py-2 text-gray-800 hover:bg-gray-200",value:"Logout"})})]})]})]})]})})});s()}catch(e){s(e)}})},5198:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.r(t),a.d(t,{default:()=>c});var r=a(997),l=a(1163),n=a(6689),i=a(4874),o=e([i]);i=(o.then?(await o)():o)[0];let c=e=>{let t=t=>{let a=(0,l.useRouter)(),[s]=(0,i.useCookies)(["token"]);return(0,n.useEffect)(()=>{(async()=>{let e=s.token;console.log("Frontend Token:",e),e||"/auth"===a.pathname||(console.log("Redirecting to login page..."),a.push("/auth"))})()},[s,a]),r.jsx(e,{...t})};return t.displayName=`withAuth(${e.displayName||e.name||"Component"})`,t};s()}catch(e){s(e)}})},9415:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.r(t),a.d(t,{default:()=>d});var r=a(997),l=a(1664),n=a.n(l),i=a(1163),o=a(5198),c=e([o]);o=(c.then?(await c)():c)[0];let d=(0,o.default)(()=>{let e=(0,i.useRouter)();return r.jsx("nav",{children:(0,r.jsxs)("ul",{className:"flex justify-center",children:[r.jsx("li",{children:r.jsx(n(),{href:"/plantjournal/garden",className:`px-4 py-2 rounded ${"/plantjournal/garden"===e.pathname?"bg-emerald-500 text-white":"bg-gray-200 text-gray-500 hover:bg-blue-500 hover:text-white"}`,children:"Your garden"})}),r.jsx("li",{children:r.jsx(n(),{href:"/plantjournal/library",className:`px-4 py-2 rounded ${"/plantjournal/library"===e.pathname?"bg-emerald-500 text-white":"bg-gray-200 text-gray-500 hover:bg-blue-500 hover:text-white"}`,children:"Plant Library"})})]})})});s()}catch(e){s(e)}})},2019:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.r(t),a.d(t,{default:()=>m});var r=a(997),l=a(1163),n=a(6689),i=a(8598),o=a(4874),c=a(1664),d=a.n(c),u=a(5198),h=a(9415),x=e([i,o,u,h]);[i,o,u,h]=x.then?(await x)():x;let m=(0,u.default)(()=>{let e=(0,l.useRouter)(),{plantId:t}=e.query,[a,s]=(0,n.useState)(!0),[c]=(0,o.useCookies)(["token"]),[u,x]=(0,n.useState)(null),m=async()=>{try{let e=await fetch(`http://localhost:4000/garden/details/${t}`,{credentials:"include",headers:{Authorization:`Bearer ${c.token}`}}),a=await e.json();x(a),s(!1)}catch(e){console.error("Error:",e.message)}};(0,n.useEffect)(()=>{t&&m()},[t]);let p=async()=>{try{(await fetch(`http://localhost:4000/garden/water/${t}`,{method:"PUT",credentials:"include",headers:{Authorization:`Bearer ${c.token}`}})).ok?await m():console.error("Failed to water")}catch(e){console.error("Error:",e.message)}};if(a)return r.jsx("p",{children:"Loading..."});if(!u)return r.jsx("p",{children:"No Plant data"});function g(e){let t=new Date(e),a=t.getFullYear(),s=t.getMonth()+1,r=t.getDate();return`${s}/${r}/${a}`}return(0,r.jsxs)("div",{className:"min-h-screen flex-col items-center justify-center bg-gray-100",children:[r.jsx(i.default,{pageName:"Plant Journal"}),r.jsx("button",{onClick:()=>e.back(),className:"text-emerald-700 hover:text-emerald-900 font-semibold focus:outline-none",children:"Go Back"}),r.jsx("br",{}),r.jsx(h.default,{}),r.jsx("br",{}),r.jsx("br",{}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"bg-white p-6 max-w-sm sm:max-w-sm md:max-w-md lg:max-w-lg mx-auto shadow-md rounded-lg overflow-hidden h-64 flex flex-row",children:[r.jsx("div",{children:r.jsx("img",{src:u[1][u[1].length-1].plantImage,className:"w-48 h-32 sm:w-48 sm:h-48 p-2",alt:"Plant"})}),(0,r.jsxs)("div",{className:"ml-4",children:[r.jsx("h2",{className:"text-xl font-semibold",children:u[0].plantName}),r.jsx("h3",{className:"text-lg font-semibold",children:u[0].plantSpecies}),(0,r.jsxs)("p",{className:"mb-2",children:[r.jsx("span",{className:"font-semibold",children:"Date planted: "})," ",g(u[0].plantDate)]}),(0,r.jsxs)("p",{className:"mb-2",children:[r.jsx("span",{className:"font-semibold",children:"Last update: "}),g(u[1][u[1].length-1].updatedAt)]}),(0,r.jsxs)("p",{className:"mb-2",children:[r.jsx("span",{className:"font-semibold",children:"Notes: "})," ",u[1][u[1].length-1].notes]}),r.jsx("br",{}),r.jsx("div",{className:"flex flex-col justify-center mb-4",children:r.jsx("input",{type:"button",value:u[0].watered?"Plant Watered":"Water Plant",onClick:()=>p(),disabled:u[0].watered,className:`${u[0].watered?"bg-green-300":"bg-blue-500"} text-white px-4 py-2 w-48 rounded`})})]})]}),r.jsx("br",{}),r.jsx("h2",{className:"text-2xl text-center font-bold mb-4",children:"Updates"}),r.jsx("div",{children:(0,r.jsxs)("ul",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[u[1]&&u[1].map((e,t)=>(0,r.jsxs)("li",{className:"bg-white p-4 rounded-lg shadow-md w-45",children:[r.jsx("img",{src:e.plantImage,alt:u[0].plantName,className:"w-full h-32 object-cover rounded-md mb-2"}),(0,r.jsxs)("h2",{className:"text-lg font-semibold",children:["Update from: ",g(e.updatedAt)]}),(0,r.jsxs)("p",{children:["Health: ",e.health]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"text-gray-600",children:["Notes: ",e.notes]}),(0,r.jsxs)("p",{className:"text-gray-600",children:["Fertilizer: ",e.fertilizer]}),(0,r.jsxs)("p",{className:"text-gray-600",children:["Temperature: ",e.temperature,"\xb0"]}),(0,r.jsxs)("p",{className:"text-gray-600",children:["Rain: ",!0===e.rain?"Yes":"No"]})]}),r.jsx("br",{})]},t)),r.jsx(d(),{href:`/plantjournal/update/${u[0]._id}`,className:"text-lime-600 hover:text-lime-900 font-semibold",children:r.jsx("li",{className:"bg-white  hover:bg-neutral-200 p-4 rounded-lg shadow-md flex justify-center items-center w-45",children:"Add Update"})})]})}),r.jsx("br",{}),r.jsx("input",{type:"button",value:"Delete Plant",onClick:()=>e.push(`/plantjournal/delete/${u[0]._id}`),className:"bg-red-500 text-white px-4 py-2 rounded w-full"}),r.jsx("br",{})]})]})});s()}catch(e){s(e)}})},5833:()=>{},5142:e=>{"use strict";e.exports=require("dotenv")},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{"use strict";e.exports=require("react")},6405:e=>{"use strict";e.exports=require("react-dom")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},4874:e=>{"use strict";e.exports=import("react-cookie")},7147:e=>{"use strict";e.exports=require("fs")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},9796:e=>{"use strict";e.exports=require("zlib")}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[567,163,899,559],()=>a(8338));module.exports=s})();