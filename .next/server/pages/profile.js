(()=>{var e={};e.id=277,e.ids=[277,888,660],e.modules={9728:(e,t,s)=>{"use strict";s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{config:()=>g,default:()=>x,getServerSideProps:()=>p,getStaticPaths:()=>m,getStaticProps:()=>h,reportWebVitals:()=>j,routeModule:()=>k,unstable_getServerProps:()=>v,unstable_getServerSideProps:()=>N,unstable_getStaticParams:()=>y,unstable_getStaticPaths:()=>f,unstable_getStaticProps:()=>b});var a=s(7093),l=s(5244),i=s(1323),c=s(2899),o=s.n(c),n=s(8910),d=s(7463),u=e([n,d]);[n,d]=u.then?(await u)():u;let x=(0,i.l)(d,"default"),h=(0,i.l)(d,"getStaticProps"),m=(0,i.l)(d,"getStaticPaths"),p=(0,i.l)(d,"getServerSideProps"),g=(0,i.l)(d,"config"),j=(0,i.l)(d,"reportWebVitals"),b=(0,i.l)(d,"unstable_getStaticProps"),f=(0,i.l)(d,"unstable_getStaticPaths"),y=(0,i.l)(d,"unstable_getStaticParams"),v=(0,i.l)(d,"unstable_getServerProps"),N=(0,i.l)(d,"unstable_getServerSideProps"),k=new a.PagesRouteModule({definition:{kind:l.x.PAGES,page:"/profile",pathname:"/profile",bundlePath:"",filename:""},components:{App:n.default,Document:o()},userland:d});r()}catch(e){r(e)}})},8910:(e,t,s)=>{"use strict";s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{default:()=>n});var a=s(997);s(5833);var l=s(5198),i=s(5142),c=s.n(i),o=e([l]);l=(o.then?(await o)():o)[0],c().config();let n=(0,l.default)(({Component:e,pageProps:t})=>a.jsx("div",{children:a.jsx(e,{classame:"App",...t})}));r()}catch(e){r(e)}})},8598:(e,t,s)=>{"use strict";s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{default:()=>x});var a=s(997),l=s(1664),i=s.n(l),c=s(1163),o=s(6689),n=s(4874),d=s(5198),u=e([n,d]);[n,d]=u.then?(await u)():u;let x=(0,d.default)(e=>{let t=(0,c.useRouter)(),[s,r]=(0,o.useState)(!1),[l]=(0,n.useCookies)(["token","user"]),[d,u]=(0,o.useState)("");(0,o.useEffect)(()=>{let e=l.user;e&&u(e)},[]);let x=async()=>{try{(await fetch("http://localhost:4000/auth/logout",{method:"get",credentials:"include",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l.token}`}})).ok&&((0,n.removeCookie)("token"),(0,n.removeCookie)("user"),t.replace("/auth"))}catch(e){console.log(e),console.log("Network error")}},h=()=>{r(!1)};return a.jsx("div",{children:(0,a.jsxs)("nav",{className:"flex justify-between items-center px-4 bg-green-900 py-2 w-full",children:[a.jsx("h1",{className:"text-white font-semibold text-xl",children:e.pageName}),(0,a.jsxs)("div",{className:" flex items-center ",children:[(0,a.jsxs)("h1",{className:"text-white text-base mr-4",children:["Welcome ",d]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("button",{onClick:()=>{r(!s)},className:"text-white font-semibold px-4",children:[a.jsx("span",{className:"ml-1 text-2xl",children:"â˜°"})," "]}),s&&(0,a.jsxs)("ul",{className:"absolute right-0 mt-2 w-48 bg-white shadow-lg rounded-md",children:[a.jsx("li",{children:a.jsx(i(),{href:"/dashboard",className:"block px-4 py-2 text-gray-800 hover:bg-gray-200",onClick:h,children:"Dashboard"})}),a.jsx("li",{children:a.jsx(i(),{href:"/plantjournal/garden",className:"block px-4 py-2 text-gray-800 hover:bg-gray-200",onClick:h,children:"Plant Journal"})}),a.jsx("li",{children:a.jsx(i(),{href:"/wellnessjournal/mood",className:"block px-4 py-2 text-gray-800 hover:bg-gray-200",onClick:h,children:"Wellness Journal"})}),a.jsx("li",{children:a.jsx(i(),{href:"/social",className:"block px-4 py-2 text-gray-800 hover:bg-gray-200",onClick:h,children:"Social"})}),a.jsx("li",{children:a.jsx(i(),{href:"/profile",className:"block px-4 py-2 text-gray-800 hover:bg-gray-200",onClick:h,children:"View Profile"})}),a.jsx("li",{children:a.jsx("input",{type:"button",onClick:()=>{x(),h()},className:"w-full text-left px-4 py-2 text-gray-800 hover:bg-gray-200",value:"Logout"})})]})]})]})]})})});r()}catch(e){r(e)}})},5198:(e,t,s)=>{"use strict";s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{default:()=>n});var a=s(997),l=s(1163),i=s(6689),c=s(4874),o=e([c]);c=(o.then?(await o)():o)[0];let n=e=>{let t=t=>{let s=(0,l.useRouter)(),[r]=(0,c.useCookies)(["token"]);return(0,i.useEffect)(()=>{(async()=>{let e=r.token;console.log("Frontend Token:",e),e||"/auth"===s.pathname||(console.log("Redirecting to login page..."),s.push("/auth"))})()},[r,s]),a.jsx(e,{...t})};return t.displayName=`withAuth(${e.displayName||e.name||"Component"})`,t};r()}catch(e){r(e)}})},7463:(e,t,s)=>{"use strict";s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{default:()=>u});var a=s(997),l=s(8598),i=s(6689),c=s(4874),o=s(1163),n=s(5198),d=e([l,c,n]);[l,c,n]=d.then?(await d)():d;let u=(0,n.default)(()=>{let e=(0,o.useRouter)(),[t]=(0,c.useCookies)(["token"]),[s,r]=(0,i.useState)([]);return(0,i.useEffect)(()=>{(async()=>{try{let e=await fetch("http://localhost:4000/profile/",{credentials:"include",headers:{Authorization:`Bearer ${t.token}`}}),s=await e.json();r(s[0])}catch(e){console.error("Error:",e.message)}})()},[t.token]),(0,a.jsxs)("div",{className:"min-h-screen flex-col items-center justify-center bg-gray-100 mx-auto",children:[a.jsx(l.default,{pageName:"Profile"}),a.jsx("br",{}),(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:"mb-4",children:a.jsx("img",{src:s.image,className:"w-24 h-24 rounded-full object-cover",alt:"User Profile"})}),(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("p",{className:"text-lg font-medium",children:s.username}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[s.firstName," ",s.lastName]}),a.jsx("p",{})]})]}),a.jsx("br",{}),a.jsx("div",{className:"max-w-sm mx-auto bg-white shadow-lg rounded-lg overflow-hidden",children:(0,a.jsxs)("div",{className:"p-6 text-center",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"About"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"mb-2",children:[a.jsx("span",{className:"font-semibold",children:"Bio:"})," ",s.bio]}),(0,a.jsxs)("p",{className:"mb-2",children:[a.jsx("span",{className:"font-semibold",children:"Location:"})," ",s.city,", ",s.state]}),(0,a.jsxs)("p",{className:"mb-2",children:[a.jsx("span",{className:"font-semibold",children:"Gardening Experience:"})," ",s.gardeningExperience]}),(0,a.jsxs)("p",{className:"mb-2",children:[a.jsx("span",{className:"font-semibold",children:"Level:"})," ",s.level]})]})]})}),a.jsx("br",{}),a.jsx("br",{}),a.jsx("br",{}),a.jsx("br",{}),a.jsx("br",{}),a.jsx("br",{}),a.jsx("input",{type:"button",value:"Delete Account",onClick:()=>e.push("/profile/delete"),className:"bg-red-500 text-white px-4 py-2 rounded w-full"})]})});r()}catch(e){r(e)}})},5833:()=>{},5142:e=>{"use strict";e.exports=require("dotenv")},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{"use strict";e.exports=require("react")},6405:e=>{"use strict";e.exports=require("react-dom")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},4874:e=>{"use strict";e.exports=import("react-cookie")},7147:e=>{"use strict";e.exports=require("fs")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},9796:e=>{"use strict";e.exports=require("zlib")}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[567,163,899,559],()=>s(9728));module.exports=r})();