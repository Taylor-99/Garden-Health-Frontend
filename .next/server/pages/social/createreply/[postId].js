(()=>{var e={};e.id=463,e.ids=[463,888,660],e.modules={7198:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.r(t),s.d(t,{config:()=>g,default:()=>m,getServerSideProps:()=>x,getStaticPaths:()=>p,getStaticProps:()=>h,reportWebVitals:()=>b,routeModule:()=>w,unstable_getServerProps:()=>v,unstable_getServerSideProps:()=>k,unstable_getStaticParams:()=>j,unstable_getStaticPaths:()=>y,unstable_getStaticProps:()=>f});var r=s(7093),l=s(5244),o=s(1323),i=s(2899),c=s.n(i),n=s(8910),u=s(1247),d=e([n,u]);[n,u]=d.then?(await d)():d;let m=(0,o.l)(u,"default"),h=(0,o.l)(u,"getStaticProps"),p=(0,o.l)(u,"getStaticPaths"),x=(0,o.l)(u,"getServerSideProps"),g=(0,o.l)(u,"config"),b=(0,o.l)(u,"reportWebVitals"),f=(0,o.l)(u,"unstable_getStaticProps"),y=(0,o.l)(u,"unstable_getStaticPaths"),j=(0,o.l)(u,"unstable_getStaticParams"),v=(0,o.l)(u,"unstable_getServerProps"),k=(0,o.l)(u,"unstable_getServerSideProps"),w=new r.PagesRouteModule({definition:{kind:l.x.PAGES,page:"/social/createreply/[postId]",pathname:"/social/createreply/[postId]",bundlePath:"",filename:""},components:{App:n.default,Document:c()},userland:u});a()}catch(e){a(e)}})},8910:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.r(t),s.d(t,{default:()=>n});var r=s(997);s(5833);var l=s(5198),o=s(5142),i=s.n(o),c=e([l]);l=(c.then?(await c)():c)[0],i().config();let n=(0,l.default)(({Component:e,pageProps:t})=>r.jsx("div",{children:r.jsx(e,{classame:"App",...t})}));a()}catch(e){a(e)}})},8598:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.r(t),s.d(t,{default:()=>m});var r=s(997),l=s(1664),o=s.n(l),i=s(1163),c=s(6689),n=s(4874),u=s(5198),d=e([n,u]);[n,u]=d.then?(await d)():d;let m=(0,u.default)(e=>{let t=(0,i.useRouter)(),[s,a]=(0,c.useState)(!1),[l]=(0,n.useCookies)(["token","user"]),[u,d]=(0,c.useState)("");(0,c.useEffect)(()=>{let e=l.user;e&&d(e)},[]);let m=async()=>{try{(await fetch("http://localhost:4000/auth/logout",{method:"get",credentials:"include",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l.token}`}})).ok&&((0,n.removeCookie)("token"),(0,n.removeCookie)("user"),t.replace("/auth"))}catch(e){console.log(e),console.log("Network error")}},h=()=>{a(!1)};return r.jsx("div",{children:(0,r.jsxs)("nav",{className:"flex justify-between items-center px-4 bg-green-900 py-2 w-full",children:[r.jsx("h1",{className:"text-white font-semibold text-xl",children:e.pageName}),(0,r.jsxs)("div",{className:" flex items-center ",children:[(0,r.jsxs)("h1",{className:"text-white text-base mr-4",children:["Welcome ",u]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("button",{onClick:()=>{a(!s)},className:"text-white font-semibold px-4",children:[r.jsx("span",{className:"ml-1 text-2xl",children:"â˜°"})," "]}),s&&(0,r.jsxs)("ul",{className:"absolute right-0 mt-2 w-48 bg-white shadow-lg rounded-md",children:[r.jsx("li",{children:r.jsx(o(),{href:"/dashboard",className:"block px-4 py-2 text-gray-800 hover:bg-gray-200",onClick:h,children:"Dashboard"})}),r.jsx("li",{children:r.jsx(o(),{href:"/plantjournal/garden",className:"block px-4 py-2 text-gray-800 hover:bg-gray-200",onClick:h,children:"Plant Journal"})}),r.jsx("li",{children:r.jsx(o(),{href:"/wellnessjournal/mood",className:"block px-4 py-2 text-gray-800 hover:bg-gray-200",onClick:h,children:"Wellness Journal"})}),r.jsx("li",{children:r.jsx(o(),{href:"/social",className:"block px-4 py-2 text-gray-800 hover:bg-gray-200",onClick:h,children:"Social"})}),r.jsx("li",{children:r.jsx(o(),{href:"/profile",className:"block px-4 py-2 text-gray-800 hover:bg-gray-200",onClick:h,children:"View Profile"})}),r.jsx("li",{children:r.jsx("input",{type:"button",onClick:()=>{m(),h()},className:"w-full text-left px-4 py-2 text-gray-800 hover:bg-gray-200",value:"Logout"})})]})]})]})]})})});a()}catch(e){a(e)}})},5198:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.r(t),s.d(t,{default:()=>n});var r=s(997),l=s(1163),o=s(6689),i=s(4874),c=e([i]);i=(c.then?(await c)():c)[0];let n=e=>{let t=t=>{let s=(0,l.useRouter)(),[a]=(0,i.useCookies)(["token"]);return(0,o.useEffect)(()=>{(async()=>{let e=a.token;console.log("Frontend Token:",e),e||"/auth"===s.pathname||(console.log("Redirecting to login page..."),s.push("/auth"))})()},[a,s]),r.jsx(e,{...t})};return t.displayName=`withAuth(${e.displayName||e.name||"Component"})`,t};a()}catch(e){a(e)}})},647:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.r(t),s.d(t,{default:()=>c});var r=s(997),l=s(6689),o=s(4874),i=e([o]);o=(i.then?(await i)():i)[0];let c=({postid:e})=>{let[t]=(0,o.useCookies)(["token"]),[s,a]=(0,l.useState)([]);return(0,l.useEffect)(()=>{(async()=>{try{console.log("id = ",e);let s=await fetch(`http://localhost:4000/social/post/${e}`,{credentials:"include",headers:{Authorization:`Bearer ${t.token}`}}),r=await s.json();a(r)}catch(e){console.error("Error:",e.message)}})()},[e]),r.jsx("div",{children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4 mb-4 w-full",children:[(0,r.jsxs)("div",{className:"flex items-center mb-2",children:[r.jsx("img",{src:s.userImage,className:"w-10 h-10 rounded-full mr-2",alt:"User Avatar"}),r.jsx("p",{className:"font-semibold",children:s.userName})]}),r.jsx("br",{}),(0,r.jsxs)("div",{className:"max-w-screen-md w-full",children:[r.jsx("p",{className:"mb-4 text-center",children:s.post}),r.jsx("img",{src:s.image,className:"w-full rounded-lg mb-4 mx-auto"})]})]})})};a()}catch(e){a(e)}})},1247:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.r(t),s.d(t,{default:()=>m});var r=s(997),l=s(6689),o=s(4874),i=s(1163),c=s(5198),n=s(8598),u=s(647),d=e([o,c,n,u]);[o,c,n,u]=d.then?(await d)():d;let m=(0,c.default)(()=>{let e=(0,i.useRouter)(),{postId:t}=e.query,[s,a]=(0,l.useState)({reply:""}),[c,d]=(0,l.useState)(""),[m]=(0,o.useCookies)(["token"]),[h,p]=(0,l.useState)(null),x=(0,i.useRouter)(),g=async()=>{try{let e=new FormData;e.append("image",h),e.append("post",s.reply);let a=await fetch(`http://localhost:4000/social/create/${t}`,{method:"POST",credentials:"include",headers:{Authorization:`Bearer ${m.token}`},body:e});await a.json(),a.ok&&x.replace(`/social/replies/${t}`)}catch(e){d("Network error")}};return(0,r.jsxs)("div",{className:"min-h-screen flex-col items-center justify-center bg-gray-100 mx-auto",children:[r.jsx(n.default,{pageName:"Social"}),r.jsx("br",{}),r.jsx("button",{onClick:()=>e.back(),className:"text-emerald-700 hover:text-emerald-900 font-semibold focus:outline-none",children:"Go Back"}),r.jsx("br",{}),r.jsx("br",{}),r.jsx(u.default,{postid:t}),(0,r.jsxs)("section",{className:"mt-8",children:[r.jsx("h2",{className:"text-xl font-semibold mt-4 text-center",children:"Create Reply"}),c&&r.jsx("p",{style:{color:"red"},children:c}),(0,r.jsxs)("form",{encType:"multipart/formdata",onSubmit:e=>{e.preventDefault(),d(""),g()},className:"mt-4 space-y-4 mx-auto max-w-md",children:[r.jsx("textarea",{name:"reply",onChange:e=>{a({...s,[e.target.name]:e.target.value})},placeholder:"Reply to this post",value:s.reply,className:"w-full border rounded px-3 py-2 mt-1 focus:outline-none focus:border-green-600"}),r.jsx("br",{}),r.jsx("label",{htmlFor:"image",className:"block",children:"Upload an image (optional): "}),r.jsx("input",{type:"file",name:"image",onChange:e=>{p(e.target.files[0])},className:"w-full border rounded px-3 py-2 mt-1 focus:outline-none focus:border-green-600"}),r.jsx("br",{}),r.jsx("br",{}),r.jsx("input",{type:"submit",value:"Submit",className:"bg-lime-500 text-white px-4 py-2 rounded hover:bg-lime-600 cursor-pointer mx-auto block"})]})]})]})});a()}catch(e){a(e)}})},5833:()=>{},5142:e=>{"use strict";e.exports=require("dotenv")},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{"use strict";e.exports=require("react")},6405:e=>{"use strict";e.exports=require("react-dom")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},4874:e=>{"use strict";e.exports=import("react-cookie")},7147:e=>{"use strict";e.exports=require("fs")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},9796:e=>{"use strict";e.exports=require("zlib")}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[567,163,899,559],()=>s(7198));module.exports=a})();