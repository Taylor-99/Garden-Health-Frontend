(()=>{var e={};e.id=870,e.ids=[870,888,660],e.modules={8690:(e,t,s)=>{"use strict";s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{config:()=>g,default:()=>m,getServerSideProps:()=>p,getStaticPaths:()=>x,getStaticProps:()=>h,reportWebVitals:()=>f,routeModule:()=>N,unstable_getServerProps:()=>w,unstable_getServerSideProps:()=>v,unstable_getStaticParams:()=>y,unstable_getStaticPaths:()=>j,unstable_getStaticProps:()=>b});var a=s(7093),l=s(5244),o=s(1323),i=s(2899),c=s.n(i),n=s(8910),u=s(6293),d=e([n,u]);[n,u]=d.then?(await d)():d;let m=(0,o.l)(u,"default"),h=(0,o.l)(u,"getStaticProps"),x=(0,o.l)(u,"getStaticPaths"),p=(0,o.l)(u,"getServerSideProps"),g=(0,o.l)(u,"config"),f=(0,o.l)(u,"reportWebVitals"),b=(0,o.l)(u,"unstable_getStaticProps"),j=(0,o.l)(u,"unstable_getStaticPaths"),y=(0,o.l)(u,"unstable_getStaticParams"),w=(0,o.l)(u,"unstable_getServerProps"),v=(0,o.l)(u,"unstable_getServerSideProps"),N=new a.PagesRouteModule({definition:{kind:l.x.PAGES,page:"/social/replies/[postid]",pathname:"/social/replies/[postid]",bundlePath:"",filename:""},components:{App:n.default,Document:c()},userland:u});r()}catch(e){r(e)}})},8910:(e,t,s)=>{"use strict";s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{default:()=>n});var a=s(997);s(5833);var l=s(5198),o=s(5142),i=s.n(o),c=e([l]);l=(c.then?(await c)():c)[0],i().config();let n=(0,l.default)(({Component:e,pageProps:t})=>a.jsx("div",{children:a.jsx(e,{classame:"App",...t})}));r()}catch(e){r(e)}})},8598:(e,t,s)=>{"use strict";s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{default:()=>m});var a=s(997),l=s(1664),o=s.n(l),i=s(1163),c=s(6689),n=s(4874),u=s(5198),d=e([n,u]);[n,u]=d.then?(await d)():d;let m=(0,u.default)(e=>{let t=(0,i.useRouter)(),[s,r]=(0,c.useState)(!1),[l]=(0,n.useCookies)(["token","user"]),[u,d]=(0,c.useState)("");(0,c.useEffect)(()=>{let e=l.user;e&&d(e)},[]);let m=async()=>{try{(await fetch("http://localhost:4000/auth/logout",{method:"get",credentials:"include",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l.token}`}})).ok&&((0,n.removeCookie)("token"),(0,n.removeCookie)("user"),t.replace("/auth"))}catch(e){console.log(e),console.log("Network error")}},h=()=>{r(!1)};return a.jsx("div",{children:(0,a.jsxs)("nav",{className:"flex justify-between items-center px-4 bg-green-900 py-2 w-full",children:[a.jsx("h1",{className:"text-white font-semibold text-xl",children:e.pageName}),(0,a.jsxs)("div",{className:" flex items-center ",children:[(0,a.jsxs)("h1",{className:"text-white text-base mr-4",children:["Welcome ",u]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("button",{onClick:()=>{r(!s)},className:"text-white font-semibold px-4",children:[a.jsx("span",{className:"ml-1 text-2xl",children:"â˜°"})," "]}),s&&(0,a.jsxs)("ul",{className:"absolute right-0 mt-2 w-48 bg-white shadow-lg rounded-md",children:[a.jsx("li",{children:a.jsx(o(),{href:"/dashboard",className:"block px-4 py-2 text-gray-800 hover:bg-gray-200",onClick:h,children:"Dashboard"})}),a.jsx("li",{children:a.jsx(o(),{href:"/plantjournal/garden",className:"block px-4 py-2 text-gray-800 hover:bg-gray-200",onClick:h,children:"Plant Journal"})}),a.jsx("li",{children:a.jsx(o(),{href:"/wellnessjournal/mood",className:"block px-4 py-2 text-gray-800 hover:bg-gray-200",onClick:h,children:"Wellness Journal"})}),a.jsx("li",{children:a.jsx(o(),{href:"/social",className:"block px-4 py-2 text-gray-800 hover:bg-gray-200",onClick:h,children:"Social"})}),a.jsx("li",{children:a.jsx(o(),{href:"/profile",className:"block px-4 py-2 text-gray-800 hover:bg-gray-200",onClick:h,children:"View Profile"})}),a.jsx("li",{children:a.jsx("input",{type:"button",onClick:()=>{m(),h()},className:"w-full text-left px-4 py-2 text-gray-800 hover:bg-gray-200",value:"Logout"})})]})]})]})]})})});r()}catch(e){r(e)}})},5198:(e,t,s)=>{"use strict";s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{default:()=>n});var a=s(997),l=s(1163),o=s(6689),i=s(4874),c=e([i]);i=(c.then?(await c)():c)[0];let n=e=>{let t=t=>{let s=(0,l.useRouter)(),[r]=(0,i.useCookies)(["token"]);return(0,o.useEffect)(()=>{(async()=>{let e=r.token;console.log("Frontend Token:",e),e||"/auth"===s.pathname||(console.log("Redirecting to login page..."),s.push("/auth"))})()},[r,s]),a.jsx(e,{...t})};return t.displayName=`withAuth(${e.displayName||e.name||"Component"})`,t};r()}catch(e){r(e)}})},647:(e,t,s)=>{"use strict";s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{default:()=>c});var a=s(997),l=s(6689),o=s(4874),i=e([o]);o=(i.then?(await i)():i)[0];let c=({postid:e})=>{let[t]=(0,o.useCookies)(["token"]),[s,r]=(0,l.useState)([]);return(0,l.useEffect)(()=>{(async()=>{try{console.log("id = ",e);let s=await fetch(`http://localhost:4000/social/post/${e}`,{credentials:"include",headers:{Authorization:`Bearer ${t.token}`}}),a=await s.json();r(a)}catch(e){console.error("Error:",e.message)}})()},[e]),a.jsx("div",{children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4 mb-4 w-full",children:[(0,a.jsxs)("div",{className:"flex items-center mb-2",children:[a.jsx("img",{src:s.userImage,className:"w-10 h-10 rounded-full mr-2",alt:"User Avatar"}),a.jsx("p",{className:"font-semibold",children:s.userName})]}),a.jsx("br",{}),(0,a.jsxs)("div",{className:"max-w-screen-md w-full",children:[a.jsx("p",{className:"mb-4 text-center",children:s.post}),a.jsx("img",{src:s.image,className:"w-full rounded-lg mb-4 mx-auto"})]})]})})};r()}catch(e){r(e)}})},6293:(e,t,s)=>{"use strict";s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{default:()=>x});var a=s(997),l=s(6689),o=s(4874),i=s(1163),c=s(1664),n=s.n(c),u=s(5198),d=s(8598),m=s(647),h=e([o,u,d,m]);[o,u,d,m]=h.then?(await h)():h;let x=(0,u.default)(()=>{let e=(0,i.useRouter)(),{postid:t}=e.query,[s]=(0,o.useCookies)(["token"]),[r,c]=(0,l.useState)([]);return(0,l.useEffect)(()=>{(async()=>{try{console.log("getting replies");let e=await fetch(`http://localhost:4000/social/replies/${t}`,{credentials:"include",headers:{Authorization:`Bearer ${s.token}`}}),r=await e.json();c(r)}catch(e){console.error("Error:",e.message)}})()},[t,s.token]),console.log(r),(0,a.jsxs)("div",{className:"min-h-screen flex-col items-center justify-center bg-gray-100 mx-auto",children:[a.jsx(d.default,{pageName:"Social"}),a.jsx("br",{}),a.jsx("button",{onClick:()=>e.back(),className:"text-emerald-700 hover:text-emerald-900 font-semibold focus:outline-none",children:"Go Back"}),a.jsx("br",{}),a.jsx("br",{}),a.jsx(m.default,{postid:t}),a.jsx("ul",{className:"max-w-screen-md w-full",children:r&&r.map((e,t)=>(0,a.jsxs)("li",{className:"bg-white rounded-lg shadow-md p-4 mb-4 w-full",children:[(0,a.jsxs)("div",{className:"flex items-center mb-2",children:[a.jsx("img",{src:e.userImage,className:"w-10 h-10 rounded-full mr-2",alt:"User Avatar"}),a.jsx("p",{className:"font-semibold",children:e.userName})]}),a.jsx("br",{}),(0,a.jsxs)("div",{className:"max-w-screen-md w-full",children:[a.jsx("p",{className:"mb-4 text-center",children:e.reply}),a.jsx("img",{src:e.image,className:"w-full rounded-lg mb-4 mx-auto"})]})]},t))}),a.jsx(n(),{href:`/social/createreply/${t}`,className:"block p-6 max-w-xs sm:max-w-sm md:max-w-md lg:max-w-lg mx-auto bg-white rounded-xl shadow-md hover:shadow-lg hover:bg-gray-100 transition duration-300 text-center text-blue-500 hover:text-blue-700 font-semibold",children:"Create Reply for Post"})]})});r()}catch(e){r(e)}})},5833:()=>{},5142:e=>{"use strict";e.exports=require("dotenv")},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{"use strict";e.exports=require("react")},6405:e=>{"use strict";e.exports=require("react-dom")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},4874:e=>{"use strict";e.exports=import("react-cookie")},7147:e=>{"use strict";e.exports=require("fs")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},9796:e=>{"use strict";e.exports=require("zlib")}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[567,163,899,559],()=>s(8690));module.exports=r})();